(this["webpackJsonpanumati-admin-dashboard"]=this["webpackJsonpanumati-admin-dashboard"]||[]).push([[0],{114:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),i=(a(90),a(91),a(11)),s=a.n(i),l=a(18),u=a(22),d=a(23),m=a(26),p=a(27),f=a(71),E=a(10),h=function(e){return r.a.createElement("div",{className:"error-message"},e.children)},g=(a(60),a(34)),v=a.n(g);v.a.defaults.baseURL="https://epass.egovernments.org:8091",v.a.defaults.headers["content-type"]="application/json";var A="riczfcdtjtvrzwupoauehxvoajtjpsqlvesicif",b=function(e,t){return v.a.post("/signin",{email:e,password:t})},w=function(e,t,a){return v.a.post("/createAccount",{name:e,email:t,password:a,key:"test"})},j=function(){return v.a.post("/getAllOrders",{authToken:A})},O=function(e,t){return v.a.post("/approveOrder",{orderID:e,orderAction:t,authToken:A})},S=function(e){return v.a.post("/processOrder",{orderID:e,authToken:A})},k=(r.a.Component,function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).loginEval=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.next=3,b(a,r);case 3:c=e.sent,c.data,n.props.onLogin();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openRegistrationForm=function(){n.setState({registered:!1})},n.hideRegistrationForm=function(){n.setState({registered:!0})},n.state={registered:!0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-container"},r.a.createElement(E.d,{className:"login-form",initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},onSubmit:this.loginEval},(function(e){var t=e.isSubmitting;return r.a.createElement(E.c,null,r.a.createElement(E.b,{type:"email",name:"email",placeholder:"Email ID"}),r.a.createElement(E.a,{name:"email",component:h}),r.a.createElement(E.b,{type:"password",name:"password",placeholder:"Create Password"}),r.a.createElement(E.a,{name:"password",component:h}),r.a.createElement("br",null),r.a.createElement(f.a,{variant:"primary",size:"lg",type:"submit",disabled:t},"Login"))})))}}]),a}(r.a.Component)),y=a(42),C=a(82),x=(a(114),a(73)),N=a.n(x),R=a(127),I=a(129),L=function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],o=a[1];return r.a.createElement(R.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(R.a.Body,null,r.a.createElement("h4",null,"Enter Reason"),r.a.createElement("p",null,"Let the applicant know why their request is being rejected"),r.a.createElement(I.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(I.a.Control,{onChange:function(e){return o(e.target.value)},as:"textarea",className:"decline-form-reason-field"}))),r.a.createElement(R.a.Footer,null,r.a.createElement("div",{className:"d-flex justify-content-end decline-modal-footer"},r.a.createElement(f.a,{onClick:e.onHide,variant:"outline-primary"},"Cancel"),r.a.createElement(f.a,{disabled:0===c.length,onClick:function(){return e.onSubmit(c)},variant:"primary"},"Send Note"))))},D=a(75),q=a.n(D),T=a(76),B=a.n(T),Y=a(128),U=r.a.forwardRef((function(e,t){e.children;var a=e.onClick;return r.a.createElement("img",{className:"action-icon",height:"20",src:B.a,ref:t,onClick:function(e){e.preventDefault(),a(e)}})})),F=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(null),u=Object(y.a)(i,2),d=u[0],m=u[1],p=function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),t.next=3,O(d,"DECLINE");case 3:e.onRefresh();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(l.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(a,"ACCEPT");case 2:return t.next=4,S(a);case 4:e.onRefresh();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=e.rows.map((function(e,t){var a,n="status center";return e.orderStatus&&(n+=" ".concat(e.orderStatus.toLowerCase())),r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.orderType),r.a.createElement("td",{className:"right"},e.requestCount),r.a.createElement("td",null,(a=e.createdAt,N()(new Date(a)).format("DD/MM/YYYY | hh:mm A"))),r.a.createElement("td",{className:n},e.orderStatus),r.a.createElement("td",null,e.pdfUrl?r.a.createElement("img",{src:q.a,alt:"Download"}):null),r.a.createElement("td",null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Toggle,{as:U,id:"dropdown-basic"}),r.a.createElement(Y.a.Menu,null,r.a.createElement(Y.a.Item,{onClick:function(){return f(e.id)}},"Approve"),r.a.createElement(Y.a.Item,{onClick:function(){return t=e.id,m(t),void o(!0);var t}},"Decline")))))}));return r.a.createElement("div",{className:"request-table-container"},r.a.createElement(C.a,{bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"#"),r.a.createElement("td",null,"Type"),r.a.createElement("td",null,"No of Passes"),r.a.createElement("td",null,"Raised on"),r.a.createElement("td",null,"Status"),r.a.createElement("td",{widtd:"300"},"Download"),r.a.createElement("td",null))),r.a.createElement("tbody",null,E)),r.a.createElement(L,{show:c,onHide:function(){return o(!1)},onSubmit:p}))},Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchAllOrders();case 2:case"end":return e.stop()}}),e)}))),n.fetchAllOrders=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(n.state.accountId,n.state.authToken);case 3:200===(t=e.sent).status?n.setState({orderList:t.data.orders}):n.createStaticData(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n.setState({fetchError:e.t0.toString()}),n.createStaticData();case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.createStaticData=function(){n.setState({orderList:[{id:"",accountId:"",orderStatus:"",orderType:"",requestCount:"100",district:"Bengaluru",type:"VEHICLE",status:"Approved",createdAt:"25/03/2020 | 07:01 am",pdfUrl:"https://www.who.int/docs/default-source/coronaviruse/situation-reports/20200308-sitrep-48-covid-19.pdf"},{requestCount:"300",district:"Bengaluru",type:"PERSON",status:"Pending",createdAt:"30/04/2020 | 10:01 pm",pdfUrl:null}]})},n.state={orderList:[]},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"padding-46"},r.a.createElement(F,{onRefresh:this.fetchAllOrders,rows:this.state.orderList}))}}]),a}(r.a.Component),z=(a(119),a(50)),M=a.n(z),J=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-header"},r.a.createElement("img",{src:M.a,height:"30"}),r.a.createElement("span",{className:"sign-out"},"Sign out"))}}]),a}(r.a.Component),P=(a(120),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onLoginSuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loggedIn:!0});case 1:case"end":return e.stop()}}),e)}))),n.state={loggedIn:!1},n}return Object(d.a)(a,[{key:"render",value:function(){return this.state.loggedIn?r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement(Q,{organization:this.state.organization,accountId:this.state.accountId,authToken:this.state.authToken})):r.a.createElement("div",{className:"login-form"},r.a.createElement("img",{src:M.a,style:{display:"block",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(k,{onLogin:this.onLoginSuccess}))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports=a.p+"static/media/anumatiLogo.72e1b5bf.jpg"},60:function(e,t,a){},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACGSURBVHgB7ZPBCYAwDEV/xQFcyT1E7AZuoJsoqHu4gY7iXTS2nkRqrFjBQx/kkpAXEgjgeYtgqx1lIFSHTI1ESK4lgGP+LzTfsKFSVQqmb8SMGFJMdkJeeinjhWYpK7NDS1siFQMqiuCElnJ3soeYb6hXvGOFRCrqczqEeQz7XjsLeng+YQPZairUORaqnAAAAABJRU5ErkJggg=="},76:function(e,t,a){e.exports=a.p+"static/media/vertical-dots.03f1bbc5.svg"},85:function(e,t,a){e.exports=a(121)},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.dd8ac518.chunk.js.map